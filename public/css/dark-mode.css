.dark-mode-checkbox {
    position: absolute;
    opacity: 0;
    -webkit-user-select: none;
       -moz-user-select: none;
            user-select: none;
  }
  
.dark-mode-toggle {
    position: absolute;
    top: .8rem;
    right: 1rem;  /* Positioned on the right side */
    display: flex;
    align-items: center;
    padding: .25rem .75rem;
    color: #505050;
    background-color: #f5f5f5;
    border: 1px solid #f5f5e5;
    border-radius: .25rem;
    cursor: pointer;
    font-size: 18px;  /* Adjust the font size for emojis */
  }

/* New Dark mode styles */
[data-theme="dark"] body {
  background-color: #333333;
  color: #F0EAD6;
}

[data-theme="dark"] h1, [data-theme="dark"] h2, [data-theme="dark"] h3, [data-theme="dark"] h4, [data-theme="dark"] h5, [data-theme="dark"] h6 {
  color: #dddddd;  /* You can choose a different light color if you prefer */
}

[data-theme="dark"] a {
  color: #ccccf0;  /* Blue links for dark mode */
}

[data-theme="dark"] hr {
  border-top-color: #444444;  /* Slightly lighter than the dark background */
  border-bottom-color: #555555;  /* Slightly lighter than the dark background */
}

[data-theme="dark"] strong, [data-theme="dark"] b {
color: #ccccf0;  /* Again, choose a color that fits your design */
}

[data-theme="dark"] .dark-mode-toggle {
  color: #F0EAD6;  /* White text for dark mode */
  background-color: #333333;  /* Darker background */
  border: 1px solid #555555;  /* Grey border */
}

[data-theme="dark"] .dark-mode-toggle:hover {
  color: #bbbbbb;  /* Light gray text on hover in dark mode */
  border-color: #666666;  /* Slightly lighter border on hover in dark mode */
}

[data-theme="dark"] .page,
[data-theme="dark"] .post {
margin-bottom: 2em;
}

[data-theme="dark"] .page-title,
[data-theme="dark"] .post-title,
[data-theme="dark"] .post-title a {
color: #F0EAD6;
}

[data-theme="dark"] .post-subtitle {
color: #dddddd;
}

[data-theme="dark"] .post-date {
color: #dddddd;
}

[data-theme="dark"] .related {
border-top: 1px solid #444444;
}

[data-theme="dark"] .related-posts li small {
color: #bbbbbb;
}

[data-theme="dark"] .related-posts li a:hover {
color: #4a90e2;
}

[data-theme="dark"] .related-posts li a:hover small {
color: inherit;
}

[data-theme="dark"] .about-social a {
  color: #F0EAD6; /* Change to a lighter color suitable for dark mode */
}

[data-theme="dark"] .about-social a:hover {
  color: #4a90e2; /* Use a color that works well on a dark background */
}

/* Ensure new about links remain readable in dark mode */
[data-theme="dark"] .about-links a {
  color: #F0EAD6;
}
[data-theme="dark"] .about-links a:hover,
[data-theme="dark"] .about-links a:focus {
  color: #F0EAD6;
  text-decoration: underline;
}

[data-theme="dark"] .masthead {
  border-bottom: 1px solid #444444;  /* Slightly lighter than the dark background */
}

[data-theme="dark"] .masthead-title,
[data-theme="dark"] .masthead-title a {
  color: #F0EAD6;  /* White text for dark mode */
}

[data-theme="dark"] .masthead-title small {
  color: #dddddd;  /* Slightly dimmed white for smaller text */
}

/* Dark mode styles for .article-toc a */
[data-theme="dark"] .article-toc a {
  color: #ddddad;  /* You can choose another color that contrasts well with the dark background */
}

/* Dark mode styles for .sidebar-toggle */
[data-theme="dark"] .sidebar-toggle {
  color: #F0EAD6;  /* White text for dark mode */
  background-color: #444444;  /* Darker background */
}

[data-theme="dark"] .sidebar-toggle::before {
  /* You might need to adjust the fill color in the SVG to be visible in dark mode */
  background: url("data:image/svg+xml,%3Csvg viewBox='0 0 16 16' fill='%23ffffff' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' d='M2.5 11.5A.5.5 0 013 11h10a.5.5 0 010 1H3a.5.5 0 01-.5-.5zm0-4A.5.5 0 013 7h10a.5.5 0 010 1H3a.5.5 0 01-.5-.5zm0-4A.5.5 0 013 3h10a.5.5 0 010 1H3a.5.5 0 01-.5-.5z' clip-rule='evenodd'/%3E%3C/svg%3E") no-repeat;
}

/* Dark mode styles for active or focused sidebar toggle */
[data-theme="dark"] .sidebar-toggle:active,
[data-theme="dark"] #sidebar-checkbox:focus ~ .sidebar-toggle,
[data-theme="dark"] #sidebar-checkbox:checked ~ .sidebar-toggle {
  color: #F0EAD6;  /* Keep text white */
  background-color: #555555;  /* Slightly lighter than the regular dark mode background */
}

/* Dark Mode Styles */
[data-theme="dark"] .toc-button {
  color: #F0EAD6; /* White text for dark mode */
  border-color: #555555; /* Dark border */
  background: #333333; /* Dark background */
}

[data-theme="dark"] .toc-button:hover {
  color: #bbbbbb; /* Light gray text on hover in dark mode */
  border-color: #666666; /* Slightly lighter border on hover in dark mode */
}

/* Blockquote Styles for Dark Mode */
[data-theme="dark"] blockquote {
  color: #C0C0C0;  /* Lighter gray for better readability in dark mode */
}


/* Apply dark mode to all code blocks with a class starting with "language-" */
[data-theme="dark"] [class^="language-"] .highlight {
  background-color: #1e1e1e;
  color: #C0C0C0;
}

[data-theme="dark"] .highlighter-rouge {
  background-color: #1e1e1e;
  color: #B0C4DE;
}

[data-theme="dark"] .collapsible {
  background: linear-gradient(45deg, #2c2c2c, #3c3c3c, #4c4c4c);  /* Dark gradient */
  color: #B0C4DE;  /* Lighter text for dark mode */
  border: none;  /* Remove the border for dark mode */
}

[data-theme="dark"] .collapsible:hover {
  background: linear-gradient(45deg, #3c3c3c, #4c4c4c, #2c2c2c);
}

[data-theme="dark"] .collapsible .language-type {
  color: #B0C4DE;  /* Lighter text for the language type in dark mode */
}


/* Citations */
[data-theme="dark"] cite {
  background-color: #333; /* Dark background for dark mode */
  color: #B0C4DE; /* Lighter text color for dark mode */
}

[data-theme="dark"] cite:hover::after {
  background-color: #333; /* Dark background for tooltip in dark mode */
  color: #B0C4DE; /* Lighter text color for tooltip in dark mode */
  border-color: #444; /* Slightly lighter border color for tooltip in dark mode */
}

[data-theme="dark"] cite:hover::after a {
  color: #B0C4DE; /* Ensuring link color consistency in the tooltip */
}


[data-theme="dark"] .homepage-footnote a {
  color: #8a9bb8;
}

[data-theme="dark"] .homepage-footnote a:hover {
  text-decoration: underline;
}

[data-theme="dark"] .inspirational-quote {
  font-style: italic;
  color: lightgray;
  margin-top: 10px;
}

/* Dark Mode Styles for Publications */
[data-theme="dark"] .publication-item,
[data-theme="dark"] .preprint-item {
  background: #2a2a2a;
  border-color: #444444;
}

[data-theme="dark"] .publication-item:hover,
[data-theme="dark"] .preprint-item:hover {
  border-color: #555555;
  background: #2e2e2e;
}

[data-theme="dark"] .pub-title {
  color: #8ab4f8;
}

[data-theme="dark"] .pub-title a {
  color: #8ab4f8;
}

[data-theme="dark"] .pub-authors {
  color: #C0C0C0;
}

[data-theme="dark"] .pub-arxiv {
  color: #999999;
}

[data-theme="dark"] .conference-badge {
  background: #8a9bb8;
  color: white;
}

[data-theme="dark"] .preprint-badge {
  background: #999999;
  color: white;
}

[data-theme="dark"] .pub-tldr-toggle {
  color: #daa520;
}

[data-theme="dark"] .pub-tldr-toggle:hover {
  color: #f0c040;
}

[data-theme="dark"] .pub-tldr {
  background: #1e1e1e;
  color: #C0C0C0;
}

[data-theme="dark"] .pub-tldr.show {
  border-color: #3a3a3a;
}